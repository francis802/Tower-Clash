\doxysection{controller/keyboard/\+KBC.h File Reference}
\hypertarget{keyboard_2_k_b_c_8h}{}\label{keyboard_2_k_b_c_8h}\index{controller/keyboard/KBC.h@{controller/keyboard/KBC.h}}


This file contains the definition of the function to interact with the KBC.  


{\ttfamily \#include $<$minix/sysutil.\+h$>$}\newline
{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include \"{}i8042.\+h\"{}}\newline
Include dependency graph for KBC.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=301pt]{keyboard_2_k_b_c_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{keyboard_2_k_b_c_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int() \mbox{\hyperlink{keyboard_2_k_b_c_8h_ac024af91b156e4fc61ee3886b891de21}{read\+\_\+\+KBC\+\_\+status}} (uint8\+\_\+t \texorpdfstring{$\ast$}{*}status)
\begin{DoxyCompactList}\small\item\em This function reads the KBC status, using the util\+\_\+sys\+\_\+inb() function. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{keyboard_2_k_b_c_8h_ac7f264677f62648ac34476a46980af2f}{read\+\_\+\+KBC\+\_\+output}} (uint8\+\_\+t port, uint8\+\_\+t \texorpdfstring{$\ast$}{*}output, uint8\+\_\+t mouse)
\begin{DoxyCompactList}\small\item\em This function reads the KBC output, using the util\+\_\+sys\+\_\+inb() function. It tries to read the output 10 times, with a 20ms delay between each try, in case of the KBC output buffer being full. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{keyboard_2_k_b_c_8h_a34b653b3939fffe883c903cdadb36d3a}{write\+\_\+\+KBC\+\_\+command}} (uint8\+\_\+t port, uint8\+\_\+t command\+Byte)
\begin{DoxyCompactList}\small\item\em This function writes a command to the KBC, using the util\+\_\+sys\+\_\+inb() function. It tries to write the command 10 times, with a 20ms delay between each try, in case of the KBC input buffer being full. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file contains the definition of the function to interact with the KBC. 



\doxysubsection{Function Documentation}
\Hypertarget{keyboard_2_k_b_c_8h_ac7f264677f62648ac34476a46980af2f}\label{keyboard_2_k_b_c_8h_ac7f264677f62648ac34476a46980af2f} 
\index{KBC.h@{KBC.h}!read\_KBC\_output@{read\_KBC\_output}}
\index{read\_KBC\_output@{read\_KBC\_output}!KBC.h@{KBC.h}}
\doxysubsubsection{\texorpdfstring{read\_KBC\_output()}{read\_KBC\_output()}}
{\footnotesize\ttfamily int() read\+\_\+\+KBC\+\_\+output (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{output,  }\item[{uint8\+\_\+t}]{mouse }\end{DoxyParamCaption})}



This function reads the KBC output, using the util\+\_\+sys\+\_\+inb() function. It tries to read the output 10 times, with a 20ms delay between each try, in case of the KBC output buffer being full. 


\begin{DoxyParams}{Parameters}
{\em port} & Port to read from \\
\hline
{\em output} & Pointer to the variable where the output will be stored \\
\hline
{\em mouse} & Boolean value that indicates if the output is from the mouse\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if no errors occurred, 1 otherwise 
\end{DoxyReturn}
\Hypertarget{keyboard_2_k_b_c_8h_ac024af91b156e4fc61ee3886b891de21}\label{keyboard_2_k_b_c_8h_ac024af91b156e4fc61ee3886b891de21} 
\index{KBC.h@{KBC.h}!read\_KBC\_status@{read\_KBC\_status}}
\index{read\_KBC\_status@{read\_KBC\_status}!KBC.h@{KBC.h}}
\doxysubsubsection{\texorpdfstring{read\_KBC\_status()}{read\_KBC\_status()}}
{\footnotesize\ttfamily int() read\+\_\+\+KBC\+\_\+status (\begin{DoxyParamCaption}\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{status }\end{DoxyParamCaption})}



This function reads the KBC status, using the util\+\_\+sys\+\_\+inb() function. 


\begin{DoxyParams}{Parameters}
{\em status} & Pointer to the variable where the status will be stored\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if no errors occurred, 1 otherwise 
\end{DoxyReturn}
\Hypertarget{keyboard_2_k_b_c_8h_a34b653b3939fffe883c903cdadb36d3a}\label{keyboard_2_k_b_c_8h_a34b653b3939fffe883c903cdadb36d3a} 
\index{KBC.h@{KBC.h}!write\_KBC\_command@{write\_KBC\_command}}
\index{write\_KBC\_command@{write\_KBC\_command}!KBC.h@{KBC.h}}
\doxysubsubsection{\texorpdfstring{write\_KBC\_command()}{write\_KBC\_command()}}
{\footnotesize\ttfamily int() write\+\_\+\+KBC\+\_\+command (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{port,  }\item[{uint8\+\_\+t}]{command\+Byte }\end{DoxyParamCaption})}



This function writes a command to the KBC, using the util\+\_\+sys\+\_\+inb() function. It tries to write the command 10 times, with a 20ms delay between each try, in case of the KBC input buffer being full. 


\begin{DoxyParams}{Parameters}
{\em port} & Port to write to \\
\hline
{\em command\+Byte} & Command to write\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 if no errors occurred, 1 otherwise 
\end{DoxyReturn}
