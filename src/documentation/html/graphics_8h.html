<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Casttle Clash: controller/video/graphics.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Casttle Clash
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d3bff1ab3a40b4e5d0775c67ace1b0da.html">controller</a></li><li class="navelem"><a class="el" href="dir_f21113ecc3bdc42494222bfbcc55d5a6.html">video</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">graphics.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>File containing the functions to configure and interecat with the video card and the frame buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;lcom/lcf.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_v_b_e_8h_source.html">VBE.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for graphics.h:</div>
<div class="dyncontent">
<div class="center"><img src="graphics_8h__incl.png" border="0" usemap="#acontroller_2video_2graphics_8h" alt=""/></div>
<map name="acontroller_2video_2graphics_8h" id="acontroller_2video_2graphics_8h">
<area shape="rect" title="File containing the functions to configure and interecat with the video card and the frame buffer." alt="" coords="5,5,177,32"/>
<area shape="rect" title=" " alt="" coords="7,80,84,107"/>
<area shape="poly" title=" " alt="" coords="85,34,63,69,59,66,81,31"/>
<area shape="rect" href="_v_b_e_8h.html" title="Provides macros to use the VBE." alt="" coords="108,80,167,107"/>
<area shape="poly" title=" " alt="" coords="101,31,124,66,120,69,97,34"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="graphics_8h__dep__incl.png" border="0" usemap="#acontroller_2video_2graphics_8hdep" alt=""/></div>
<map name="acontroller_2video_2graphics_8hdep" id="acontroller_2video_2graphics_8hdep">
<area shape="rect" title="File containing the functions to configure and interecat with the video card and the frame buffer." alt="" coords="172,5,343,32"/>
<area shape="rect" href="mouse_8h.html" title="This file contains the definition of the MouseInfo struct and the function to configure and interact ..." alt="" coords="5,80,177,107"/>
<area shape="poly" title=" " alt="" coords="216,41,121,82,119,77,214,36"/>
<area shape="rect" href="model_8h.html" title="This file contains the definition of the SystemState and MenuState enum and the functions to update t..." alt="" coords="159,155,266,181"/>
<area shape="poly" title=" " alt="" coords="252,47,242,81,219,155,214,154,236,79,247,45"/>
<area shape="rect" href="view_8h.html" title="File containing the functions to draw the game menus, sprites. Also contains the functions to swap an..." alt="" coords="170,229,255,256"/>
<area shape="poly" title=" " alt="" coords="318,36,346,53,369,79,373,93,369,108,359,130,345,150,310,185,273,212,240,231,237,227,270,208,307,181,341,147,354,127,365,106,368,93,365,81,343,58,315,41"/>
<area shape="rect" href="sprite_8h.html" title="This file contains the definition of the Sprite struct and the functions to create and destroy sprite..." alt="" coords="251,80,355,107"/>
<area shape="poly" title=" " alt="" coords="276,43,297,78,293,81,271,46"/>
<area shape="poly" title=" " alt="" coords="126,112,192,152,190,156,123,117"/>
<area shape="poly" title=" " alt="" coords="107,118,149,180,199,227,195,231,145,183,102,121"/>
<area shape="poly" title=" " alt="" coords="206,196,208,229,203,229,201,197"/>
<area shape="poly" title=" " alt="" coords="218,215,217,182,222,182,224,214"/>
<area shape="poly" title=" " alt="" coords="278,118,230,156,226,152,274,114"/>
<area shape="poly" title=" " alt="" coords="302,122,294,152,280,183,257,210,232,231,229,227,253,207,275,180,289,150,296,121"/>
</map>
</div>
</div>
<p><a href="graphics_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a967432a6c8128a907b937b0f3f4b4472"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphics_8h.html#a967432a6c8128a907b937b0f3f4b4472">set_graphic_mode</a> (uint16_t submode)</td></tr>
<tr class="memdesc:a967432a6c8128a907b937b0f3f4b4472"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the graphic mode to the one specified in the submode. It create a reg86_t struct and fills it with the necessary information to set the graphic mode. Then, it calls sys_int86() to set the graphic mode.  <br /></td></tr>
<tr class="separator:a967432a6c8128a907b937b0f3f4b4472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50005645b76a08eff8126607633420f"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphics_8h.html#ac50005645b76a08eff8126607633420f">set_frame_buffer</a> (uint16_t mode, uint8_t **frame_buffer)</td></tr>
<tr class="memdesc:ac50005645b76a08eff8126607633420f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function fetches the mode information of the specified mode and uses it to set the frame buffer. It allocates memory for the frame buffer and maps the physical address of the frame buffer to the virtual address of the frame buffer, so that the frame buffer can be accessed and modified.  <br /></td></tr>
<tr class="separator:ac50005645b76a08eff8126607633420f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950e17209d152e8a40ec064a0b201b25"><td class="memItemLeft" align="right" valign="top">int()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphics_8h.html#a950e17209d152e8a40ec064a0b201b25">draw_pixel</a> (uint16_t x, uint16_t y, uint32_t color, uint8_t *frame_buffer)</td></tr>
<tr class="memdesc:a950e17209d152e8a40ec064a0b201b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function draws a pixel in the specified coordinates with the specified color. It calculates the index of the pixel in the frame buffer and copies the color to the frame buffer.  <br /></td></tr>
<tr class="separator:a950e17209d152e8a40ec064a0b201b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985c2ca86c8f87d6dbc5956e34f45faa"><td class="memItemLeft" align="right" valign="top"><a id="a985c2ca86c8f87d6dbc5956e34f45faa" name="a985c2ca86c8f87d6dbc5956e34f45faa"></a>
int()&#160;</td><td class="memItemRight" valign="bottom"><b>draw_rectangle</b> (uint16_t x, uint16_t y, uint16_t width, uint16_t height, uint32_t color, uint8_t *frame_buffer)</td></tr>
<tr class="separator:a985c2ca86c8f87d6dbc5956e34f45faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa521edac9abebe26567c6421b0480ab"><td class="memItemLeft" align="right" valign="top"><a id="aaa521edac9abebe26567c6421b0480ab" name="aaa521edac9abebe26567c6421b0480ab"></a>
int()&#160;</td><td class="memItemRight" valign="bottom"><b>draw_line</b> (uint16_t x, uint16_t y, uint16_t len, uint32_t color, uint8_t *frame_buffer)</td></tr>
<tr class="separator:aaa521edac9abebe26567c6421b0480ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9fcc2243068f8e628648febc0909c509"><td class="memItemLeft" align="right" valign="top"><a id="a9fcc2243068f8e628648febc0909c509" name="a9fcc2243068f8e628648febc0909c509"></a>
vbe_mode_info_t&#160;</td><td class="memItemRight" valign="bottom"><b>mode_info</b></td></tr>
<tr class="separator:a9fcc2243068f8e628648febc0909c509"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>File containing the functions to configure and interecat with the video card and the frame buffer. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a950e17209d152e8a40ec064a0b201b25" name="a950e17209d152e8a40ec064a0b201b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a950e17209d152e8a40ec064a0b201b25">&#9670;&#160;</a></span>draw_pixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() draw_pixel </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>frame_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function draws a pixel in the specified coordinates with the specified color. It calculates the index of the pixel in the frame buffer and copies the color to the frame buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>X coordinate of the pixel </td></tr>
    <tr><td class="paramname">y</td><td>Y coordinate of the pixel </td></tr>
    <tr><td class="paramname">color</td><td>Color of the pixel </td></tr>
    <tr><td class="paramname">frame_buffer</td><td>Pointer to the frame buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 if no errors occurred, 1 otherwise </dd></dl>

</div>
</div>
<a id="ac50005645b76a08eff8126607633420f" name="ac50005645b76a08eff8126607633420f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac50005645b76a08eff8126607633420f">&#9670;&#160;</a></span>set_frame_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() set_frame_buffer </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>frame_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function fetches the mode information of the specified mode and uses it to set the frame buffer. It allocates memory for the frame buffer and maps the physical address of the frame buffer to the virtual address of the frame buffer, so that the frame buffer can be accessed and modified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Mode to be set </td></tr>
    <tr><td class="paramname">frame_buffer</td><td>Address of memory of the pointer to the frame buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 if no errors occurred, 1 otherwise </dd></dl>

</div>
</div>
<a id="a967432a6c8128a907b937b0f3f4b4472" name="a967432a6c8128a907b937b0f3f4b4472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967432a6c8128a907b937b0f3f4b4472">&#9670;&#160;</a></span>set_graphic_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int() set_graphic_mode </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>submode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the graphic mode to the one specified in the submode. It create a reg86_t struct and fills it with the necessary information to set the graphic mode. Then, it calls sys_int86() to set the graphic mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">submode</td><td>Submode to be set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int 0 if no errors occurred, 1 otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
